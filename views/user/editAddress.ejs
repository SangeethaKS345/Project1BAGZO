<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Address</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    /* Modern Theme */
    body {
      font-family: 'Arial', sans-serif;
      background-color: #f8f9fa;
      color: #FF4B2B;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }

    .breadcrumb {
      background-color: #fff;
      border: 1px solid #DB4437;
      border-radius: 10px;
      padding: 8px 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .breadcrumb-item a {
      color: #FF4B2B;
      text-decoration: none;
    }

    .breadcrumb-item.active {
      color: #DB4437;
      font-weight: bold;
    }

    .sidebar {
      border: 2px solid #DB4437;
      border-radius: 15px;
      padding: 20px;
      background-color: #fff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .sidebar h4 {
      color: #DB4437;
      font-weight: bold;
      margin-bottom: 15px;
    }

    .nav-link {
      color: #FF4B2B;
      padding: 10px;
      border-radius: 8px;
      transition: background-color 0.3s, color 0.3s;
    }

    .nav-link:hover {
      background-color: #ffe6e6;
      color: #DB4437;
    }

    .nav-link.active {
      background: linear-gradient(to right, #FF4B2B, #FF416C);
      color: #fff;
    }

    .welcome-box {
      background-color: #fff;
      border: 2px dashed #DB4437;
      border-radius: 10px;
      padding: 15px;
      margin-bottom: 20px;
      color: #FF4B2B;
      font-size: 1.2rem;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .edit-card {
      border: 2px solid #DB4437;
      border-radius: 15px;
      padding: 20px;
      background-color: #fff;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      color: #FF4B2B;
    }

    .edit-card h4 {
      color: #DB4437;
      font-weight: bold;
      margin-bottom: 15px;
    }

    .edit-card .form-label {
      color: #FF4B2B;
      font-weight: 500;
    }

    .edit-card .form-control,
    .edit-card .form-select {
      border: 1px solid #DB4437;
      color: #FF4B2B;
    }

    .edit-card .form-control:focus,
    .edit-card .form-select:focus {
      border-color: #FF4B2B;
      box-shadow: 0 0 0 0.2rem rgba(219, 68, 55, 0.25);
    }

    .gradient-btn {
      background: linear-gradient(to right, #FF4B2B, #FF416C);
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 8px;
      transition: background 0.3s;
    }

    .gradient-btn:hover {
      background: #DB4437;
      color: #fff;
    }
  </style>
  <%- include('../../views/partials/user/header') %>
</head>

<body>
  <div class="container mt-5">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-3">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="/"><i class="fas fa-home"></i> Home</a></li>
            <li class="breadcrumb-item"><a href="/profile"><i class="fas fa-user"></i> Profile</a></li>
            <li class="breadcrumb-item"><a href="/address"><i class="fas fa-map-marker-alt"></i> Addresses</a></li>
            <li class="breadcrumb-item active" aria-current="page">Edit</li>
          </ol>
        </nav>
        <div class="card sidebar">
          <div class="text-center">
            <h4><i class="fas fa-user"></i> <%= user?.name || 'Guest' %></h4>
          </div>
          <hr>
          <ul class="nav flex-column">
            <li class="nav-item"><a href="/profile" class="nav-link"><i class="fas fa-cog"></i> User Info</a></li>
            <li class="nav-item"><a href="/address" class="nav-link active"><i class="fas fa-map-marker-alt"></i> Address</a></li>
            <li class="nav-item"><a href="/orders" class="nav-link"><i class="fas fa-shopping-bag"></i> Orders</a></li>
            <li class="nav-item"><a href="/wishlist" class="nav-link"><i class="fas fa-heart"></i> Wishlist</a></li>
            <li class="nav-item"><a href="/cart" class="nav-link"><i class="fas fa-shopping-cart"></i> Cart</a></li>
            <li class="nav-item"><a href="/user/wallet" class="nav-link"><i class="fas fa-wallet"></i> Wallet</a></li>
            <li class="nav-item"><a href="/user/coupons" class="nav-link"><i class="fas fa-ticket-alt"></i> Coupons</a></li>
            <li class="nav-item"><a href="/logout" class="nav-link"><i class="fas fa-sign-out-alt"></i> Logout</a></li>
          </ul>
        </div>
      </div>

      <!-- Main Content -->
      <div class="col-md-9">
        <div class="welcome-box">
          Edit Address <i class="fas fa-edit"></i>
        </div>
        <div class="card edit-card">
          <h4><i class="fas fa-address-book"></i> Edit Address</h4>
          <hr>
          <form action="/address/edit/<%= addressData._id %>" method="POST">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="addressType" class="form-label">Address Type</label>
                <select class="form-select" id="addressType" name="addressType" required>
                  <option value="Home" <%= addressData.addressType === 'Home' ? 'selected' : '' %>>Home</option>
                  <option value="Work" <%= addressData.addressType === 'Work' ? 'selected' : '' %>>Work</option>
                  <option value="Other" <%= addressData.addressType === 'Other' ? 'selected' : '' %>>Other</option>
                </select>
              </div>
              <div class="col-md-6 mb-3">
                <label for="name" class="form-label">Full Name</label>
                <input type="text" class="form-control" id="name" name="name" value="<%= addressData.name %>" required>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="city" class="form-label">City</label>
                <input type="text" class="form-control" id="city" name="city" value="<%= addressData.city %>" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="landMark" class="form-label">Landmark</label>
                <input type="text" class="form-control" id="landMark" name="landMark" value="<%= addressData.landMark %>" required>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="state" class="form-label">State</label>
                <input type="text" class="form-control" id="state" name="state" value="<%= addressData.state %>" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="pincode" class="form-label">Pincode</label>
                <input type="number" class="form-control" id="pincode" name="pincode" value="<%= addressData.pincode %>" required>
              </div>
            </div>

            <div class="row">
              <div class="col-md-6 mb-3">
                <label for="phone" class="form-label">Phone Number</label>
                <input type="text" class="form-control" id="phone" name="phone" value="<%= addressData.phone %>" required>
              </div>
              <div class="col-md-6 mb-3">
                <label for="altPhone" class="form-label">Alternate Phone</label>
                <input type="text" class="form-control" id="altPhone" name="altPhone" value="<%= addressData.altPhone %>" required>
              </div>
            </div>

            <div class="mt-3">
              <button type="submit" class="gradient-btn">Update Address</button>
              <a href="/address" class="btn btn-secondary ms-2">Cancel</a>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <%- include('../../views/partials/user/footer') %>
</body>

</html>